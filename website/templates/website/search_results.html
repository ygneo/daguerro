{% extends "website/base.html" %}

{% load i18n %}

{% block title %}Barres foto natura | Búsqueda | {{ query }}{% endblock %}

{% block content %}
<div id="photos">
  <ul>
    {% for result in page.object_list %}
     {% with photo=result.object %}
     <li>
       <div class="photo">
        <a href="{{ photo.get_website_url }}"><img src="{{ photo.get_thumbnail_url }}" alt="{{ photo.title }}"/></a>     
      </div>
      <p>
        <a href="foto.php">{{ photo.title }}</a>
        <em>{% if photo.alternative_title %}{{ photo.alternative_title }}{% endif %}</em>
      </p>
     </li>
     {% endwith %}
    {% endfor %}
  </ul>
</div>
<div id="search_count" style="float:left; width: 15em; backgroud: white;">
  <p><em>{{ num_results }}</em> fotografías encontradas.</p>
</div>
{% if page.has_previous or page.has_next %}
<div class="pagination">
    {% if page.has_previous %}
        <a href="?page={{ page.previous_page_number }}{{ getvars }}" class="prev">&lsaquo;&lsaquo; {% trans "previous" %}</a>
    {% else %}
        <span class="disabled prev">&lsaquo;&lsaquo; {% trans "previous" %}</span>
    {% endif %}
    {% for page_num in paginator.page_range %}
        {% ifequal page_num page.number %}
         <span class="current page">{{ page_num }}</span>
        {% else %}
         <a href="?page={{ page_num }}&{{ getvars }}" class="page">{{ page_num }}</a>
        {% endifequal %}
    {% endfor %}
    {% if page.has_next %}
        <a href="?page={{ page.next_page_number }}&{{ getvars }}" class="next">{% trans "next" %} &rsaquo;&rsaquo;</a>
    {% else %}
        <span class="disabled next">{% trans "next" %} &rsaquo;&rsaquo;</span>
    {% endif %}
</div>
{% endif %}
<div class="push"></div>
{% endblock %}
